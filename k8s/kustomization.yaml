apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: stackoverflow

resources:
  - namespace.yaml
  # Secrets managed manually via kubectl (not in git)
  # - secret.yaml
  # - sqlserver-secret.yaml
  - sqlserver-scc.yaml
  - sqlserver-buildconfig.yaml
  - sqlserver-statefulset.yaml
  - sqlserver-service.yaml
  - sqlserver-attach-job.yaml
  - deployment.yaml
  - service.yaml
  - ingress.yaml
  - route.yaml

commonLabels:
  app.kubernetes.io/name: stackoverflow
  app.kubernetes.io/managed-by: argocd

images:
  - name: stackoverflow
    newName: image-registry.openshift-image-registry.svc:5000/stackoverflow/stackoverflow-web
    newTag: latest
